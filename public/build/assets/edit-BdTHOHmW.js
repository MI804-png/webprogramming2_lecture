import{u as g,j as e,H as c,L as d}from"./app-CVOOZoCW.js";import{A as n}from"./app-layout-CbRueQkq.js";import"./app-d2q14fFC.js";import"./createLucideIcon-B_q5rWsH.js";import"./index-DgO-mEcW.js";import"./index-DBqzsCti.js";function N({message:s,auth:m}){const{data:t,setData:l,put:o,processing:i,errors:a}=g({name:s.name,email:s.email,subject:s.subject,message:s.message,is_read:s.is_read}),x=r=>new Date(r).toLocaleString(),u=r=>{r.preventDefault(),o(`/messages/${s.id}`)};return m.user?.role!=="admin"?e.jsxs(n,{children:[e.jsx(c,{title:"Access Denied"}),e.jsx("div",{className:"container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to edit messages."}),e.jsx(d,{href:"/messages",className:"text-purple-600 hover:text-purple-800",children:"← Back to Messages"})]})})]}):e.jsxs(n,{children:[e.jsx(c,{title:`Edit Message: ${s.subject}`}),e.jsx("div",{className:"container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx(d,{href:`/messages/${s.id}`,className:"inline-flex items-center text-purple-600 hover:text-purple-800 text-sm font-medium",children:"← Back to Message"})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Message"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Original message received on ",x(s.created_at)]})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sender Name"}),e.jsx("input",{type:"text",id:"name",value:t.name,onChange:r=>l("name",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:t.email,onChange:r=>l("email",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",value:t.subject,onChange:r=>l("subject",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),a.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),e.jsx("textarea",{id:"message",value:t.message,onChange:r=>l("message",r.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),a.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_read",checked:t.is_read,onChange:r=>l("is_read",r.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_read",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Mark as read"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition duration-300 disabled:opacity-50",children:[i&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Update Message"]}),e.jsx(d,{href:`/messages/${s.id}`,className:"inline-flex items-center px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition duration-300",children:"Cancel"}),e.jsx(d,{href:"/messages",className:"inline-flex items-center px-6 py-3 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition duration-300",children:"All Messages"})]})]})]})})]})})]})}export{N as default};
